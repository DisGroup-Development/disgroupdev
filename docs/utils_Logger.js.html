<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/Logger.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/Logger.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const { WebhookClient } = require('discord.js');
const Chalk = require('chalk');

const { DisGroupDevError, Messages } = require('../errors/DisGroupDevError');

/**
 * @typedef {Object} LoggerIcons
 * @property {String} debug (Default: "‚öí")
 * @property {String} error (Default: "üõë")
 * @property {String} fail (Default: "‚ùå")
 * @property {String} info (Default: "‚Ñπ")
 * @property {String} success (Default: "‚úÖ")
 * @property {String} warn (Default: "‚ö†")
 */

/**
 * @typedef {Object} LoggerOptions
 * @property {?LoggerIcons} icons The icons which the logger uses
 * @property {String} name The name of the logger
 * @property {WebhookClient[]} webhooks An array of webhook clients, the messages should be sent to
 */

/**
 * The logger class
 * @class
 */
class Logger {

    /**
     * The constructor for the Logger
     * @param {LoggerOptions} options
     */
    constructor(options) {

        if(!options?.name || typeof options?.name !== 'string') throw new DisGroupDevError(Messages.NOT_A_STRING(undefined));

        if(!options?.icons) options.icons = { debug: "‚öí", error: "üõë", fail: "‚ùå", info: "‚Ñπ", success: "‚úÖ", warn: "‚ö†" };
        if(!options?.webhooks) options.webhooks = [];

        /**
         * The options for the logger
         * @type {LoggerOptions}
         */
        this.options = options;

    }

    /**
     * Gets a readable date
     * @param {?Date} date The date which should get readable
     * @private
     */
    _getTime(date = new Date(Date.now())) {

        if(Object.prototype.toString.call(date) !== '[object Date]') throw new DisGroupDevError(Messages.INVALID_DATE);

        function formatDate(d, t) {

            let _t = t;

            while(_t.toString().length &lt; d) {

                _t = '0' + _t;

            }

            return _t;

        }

        const _date = (formatDate(2, date?.getHours()) + ':' + formatDate(2, date?.getMinutes()) + ':' + formatDate(2, date?.getSeconds()) + '.' + formatDate(2, date?.getMilliseconds()));

        return _date;

    }

    /**
     * @typedef {Object} LogData
     * @property {String} consoleString The string that should be logged to the console
     * @property {String} webhookString The string that should be logged to a webhook
     */

    /**
     * Logs a string
     * @param {LogData} strings The strings that should be logged
     * @private
     */
    _log(strings) {

        try {

            console.log(strings?.consoleString);

            for(const webhook of this.options?.webhooks) {

                if(!webhook instanceof WebhookClient) throw new DisGroupDevError(Messages.NOT_INSTANCE_OF(webhook, WebhookClient));

                webhook.send({ content: `\`\`\`JS\n${strings?.webhookString}\`\`\`` });

            }

        } catch (e) {

            throw new DisGroupDevError(e);

        }

    }

    /**
     * Debug
     * @param {String} string The string that should be logged
     * @returns {Logger}
     * @public
     */
    debug(string) {

        this._log({ consoleString: `[ ${this.options.name} | ${this._getTime()} ] : ${Chalk.bgGreenBright.white(`${this.options.icons.debug} DEBUG`)} | ${string}`, webhookString: `[ ${this.options.name} | ${this._getTime()} ] : ${this.options.icons.debug} DEBUG | ${string}`});

        return this;

    }

    /**
     * Error
     * @param {String} string The string that should be logged
     * @returns {Logger}
     * @public
     */
    error(string) {

        this._log({ consoleString: `[ ${this.options.name} | ${this._getTime()} ] : ${Chalk.bgRedBright.white(`${this.options.icons.error} ERROR`)} | ${string}`, webhookString: `[ ${this.options.name} | ${this._getTime()} ] : ${this.options.icons.error} ERROR | ${string}`});

        return this;

    }

    /**
     * Fail
     * @param {String} string The string that should be logged
     * @returns {Logger}
     * @public
     */
    fail(string) {

        this._log({ consoleString: `[ ${this.options.name} | ${this._getTime()} ] : ${Chalk.bgRedBright.white(`${this.options.icons.fail} FAIL`)} | ${string}`, webhookString: `[ ${this.options.name} | ${this._getTime()} ] : ${this.options.icons.fail} FAIL | ${string}`});

        return this;

    }

    /**
     * Info
     * @param {String} string The string that should be logged
     * @returns {Logger}
     * @public
     */
    info(string) {

        this._log({ consoleString: `[ ${this.options.name} | ${this._getTime()} ] : ${Chalk.bgBlueBright.white(`${this.options.icons.info} INFO`)} | ${string}`, webhookString: `[ ${this.options.name} | ${this._getTime()} ] : ${this.options.icons.info} INFO | ${string}`});

        return this;

    }

    /**
     * Success
     * @param {String} string The string that should be logged
     * @returns {Logger}
     * @public
     */
    success(string) {

        this._log({ consoleString: `[ ${this.options.name} | ${this._getTime()} ] : ${Chalk.bgGreenBright.white(`${this.options.icons.success} SUCCESS`)} | ${string}`, webhookString: `[ ${this.options.name} | ${this._getTime()} ] : ${this.options.icons.success} SUCCESS | ${string}`});

        return this;

    }

    /**
     * Warn
     * @param {String} string The string that should be logged
     * @returns {Logger}
     * @public
     */
    warn(string) {

        this._log({ consoleString: `[ ${this.options.name} | ${this._getTime()} ] : ${Chalk.bgYellowBright.white(`${this.options.icons.warn} WARN`)} | ${string}`, webhookString: `[ ${this.options.name} | ${this._getTime()} ] : ${this.options.icons.warn} WARN | ${string}`});

        return this;

    }

}

module.exports = Logger;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Badges.html">Badges</a></li><li><a href="BaseComponent.html">BaseComponent</a></li><li><a href="BaseInteraction.html">BaseInteraction</a></li><li><a href="Colors.html">Colors</a></li><li><a href="ContextInteraction.html">ContextInteraction</a></li><li><a href="ContextInteractionManager.html">ContextInteractionManager</a></li><li><a href="DisGroupDevError.html">DisGroupDevError</a></li><li><a href="Emojis.html">Emojis</a></li><li><a href="Event.html">Event</a></li><li><a href="EventManager.html">EventManager</a></li><li><a href="InteractionManager.html">InteractionManager</a></li><li><a href="Logger.html">Logger</a></li><li><a href="Partner.html">Partner</a></li><li><a href="SlashCommand.html">SlashCommand</a></li><li><a href="SlashCommandInteractionManager.html">SlashCommandInteractionManager</a></li><li><a href="StatusPageChecker.html">StatusPageChecker</a></li><li><a href="TranslationManager.html">TranslationManager</a></li><li><a href="Utilities.html">Utilities</a></li></ul><h3>Events</h3><ul><li><a href="EventManager.html#event:eventLoad">eventLoad</a></li><li><a href="EventManager.html#event:eventReload">eventReload</a></li><li><a href="EventManager.html#event:eventUnload">eventUnload</a></li><li><a href="InteractionManager.html#event:slashCommandDeploy">slashCommandDeploy</a></li><li><a href="InteractionManager.html#event:slashCommandLoad">slashCommandLoad</a></li><li><a href="InteractionManager.html#event:slashCommandReload">slashCommandReload</a></li><li><a href="InteractionManager.html#event:slashCommandUnload">slashCommandUnload</a></li><li><a href="StatusPageChecker.html#event:heartbeat">heartbeat</a></li><li><a href="StatusPageChecker.html#event:incidentCreate">incidentCreate</a></li><li><a href="StatusPageChecker.html#event:incidentUpdate">incidentUpdate</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Fri May 27 2022 17:37:59 GMT+0200 (Mitteleurop√§ische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
